import{o as a,c as r,w as o,g as e,a as s,d as u,t as l,i as g,e as m,f as x,F as p,q as S,u as w,h as f,O as k}from"./app-B6ljmE4m.js";import{_ as T,a as y,b as h,c as v,Q as b}from"./MainLayout-Dp50SWY5.js";import{Q as q}from"./QChip-D021voJ6.js";import{Q as B}from"./QLayout-CQJIOMGO.js";import{u as F}from"./use-quasar-DJymb8OE.js";import{u as A}from"./utils-DPnJAvhQ.js";import{_ as I}from"./KaiCalendar-6W7IFLer.js";import"./selection-CBxV_n-G.js";import"./FooterComponent-BOyJhOv3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./date-CGOT6K0H.js";import"./QDate-n6V6MZ0s.js";import"./use-cache-hsIl6Ivw.js";const L={class:"row q-col-gutter-sm"},V={class:"col-xs-12 col-sm-4"},P={class:"column q-pa-sm bg-white"},Y={class:"text-center"},R={class:"text-weight-medium text-dark"},E={class:"text-weight-medium text-grey-7 q-ma-none"},M={class:"col-xs-12 col-sm-8 row q-col-gutter-sm"},G={class:"col-xs-12 col-sm-4"},H={class:"bg-primary q-pa-sm shadow-default text-white"},J={class:"flex justify-between items-center"},K={class:"text-xl text-bold"},U=e("div",{class:"text-md text-grey-2"},"No of officials",-1),W={class:"col-xs-12 col-sm-4"},X={class:"bg-positive q-pa-sm shadow-default text-white"},Z={class:"flex justify-between items-center"},ee={class:"text-xl text-bold"},te=e("div",{class:"text-md text-grey-2"},"Present on Today's",-1),se={class:"col-xs-12 col-sm-4"},oe={class:"bg-warning q-pa-sm shadow-default text-white"},ae={class:"flex justify-between items-center"},ne={class:"text-xl text-bold"},le=e("div",{class:"text-md text-grey-2"},"Absent on Today's ",-1),ie={key:0,class:"col-xs-12"},ce={class:"q-pa-sm"},de=e("div",{class:"text-lg text-bold text-dark"},"New Device Request",-1),re={class:"flex q-gutter-sm"},ue={class:"col-xs-12"},_e=e("div",{class:"q-pa-sm"},[e("div",{class:"text-lg text-bold text-dark"},"Today's Attendances")],-1),he={class:"flex justify-between items-center shadow-default q-mt-sm bg-white q-pa-sm"},me={class:"flex items-center q-gutter-sm"},ge={class:"q-ml-sm"},fe={class:"text-bold text-weight-medium"},ve={class:"text-grey-7 text-weight-medium"},xe={class:"flex q-gutter-sm items-center"},Oe=Object.assign({layout:T},{__name:"Manager",props:["user","devices","attendances","current_sessions","total_users"],setup(n){const i=F(),{formatSignoutTime:C,formatDateTime:$}=A(),z=c=>{i.dialog({title:"Confirmation",message:"Do you want to approved?",ok:"Yes",cancel:"No"}).onOk(()=>{k.post(route("device.approve",c.id),{},{onStart:_=>i.loading.show(),onFinish:_=>i.loading.hide()})})},D=c=>{i.dialog({title:"Confirmation",message:"Do you want to rejected?",ok:"Yes",cancel:"No"}).onOk(()=>{k.post(route("device.reject",c.id),{},{onStart:_=>i.loading.show(),onFinish:_=>i.loading.hide()})})},O=c=>{i.dialog({title:"Confirmation",message:"Do you want to sign out this session?",ok:"Yes",cancel:"No"}).onOk(()=>{k.delete(route("attendance.signout",c.id),{onStart:_=>i.loading.show(),onFinish:_=>i.loading.hide()})})};return(c,_)=>(a(),r(B,{class:"container",padding:""},{default:o(()=>{var Q,N,j;return[e("div",L,[e("div",V,[e("div",P,[e("div",Y,[s(u,{size:"32px",name:"o_account_circle"}),e("div",R,l((Q=n.user)==null?void 0:Q.full_name),1),e("div",E,l((N=n.user)==null?void 0:N.designation),1)]),s(b,{class:"q-pa-none",separator:""},{default:o(()=>[s(y,null,{default:o(()=>[s(h,null,{default:o(()=>[s(v,{class:"text-dark text-lg"},{default:o(()=>[g("Active Sessions")]),_:1})]),_:1})]),_:1}),(a(!0),m(p,null,x(n.current_sessions,t=>(a(),r(y,{key:t.id,class:"q-pl-none"},{default:o(()=>[s(h,{avatar:""},{default:o(()=>[s(u,{name:"error_outline",color:"warning"})]),_:1}),s(h,null,{default:o(()=>[s(v,null,{default:o(()=>[g(l(w($)(t==null?void 0:t.signin_at)),1)]),_:2},1024)]),_:2},1024),s(h,{side:""},{default:o(()=>[s(f,{onClick:d=>O(t),round:"",icon:"logout",flat:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),s(I,{class:"full-width"})]),e("div",M,[e("div",G,[e("div",H,[e("div",J,[e("div",K,l(n.total_users),1),s(u,{size:"24px",name:"people_outline"})]),U])]),e("div",W,[e("div",X,[e("div",Z,[e("div",ee,l(n.attendances.length),1),s(u,{size:"24px",name:"o_group_add"})]),te])]),e("div",se,[e("div",oe,[e("div",ae,[e("div",ne,l(n.total_users-n.attendances.length),1),s(u,{size:"24px",name:"o_group_remove"})]),le])]),((j=n.devices)==null?void 0:j.length)>0?(a(),m("div",ie,[e("div",ce,[de,s(b,null,{default:o(()=>[(a(!0),m(p,null,x(n.devices,t=>(a(),r(y,{class:"shadow-default q-mt-sm bg-warning text-white"},{default:o(()=>[s(h,null,{default:o(()=>[s(v,null,{default:o(()=>[g(l(t==null?void 0:t.name),1)]),_:2},1024),s(v,{caption:""},{default:o(()=>{var d;return[g(l((d=t==null?void 0:t.user)==null?void 0:d.full_name),1)]}),_:2},1024)]),_:2},1024),s(h,{side:""},{default:o(()=>[e("div",re,[s(f,{color:"primary",onClick:d=>z(t),round:"",outline:"",size:"sm",icon:"o_check"},null,8,["onClick"]),s(f,{color:"negative",onClick:d=>D(t),round:"",outline:"",size:"sm",icon:"o_close"},null,8,["onClick"])])]),_:2},1024)]),_:2},1024))),256))]),_:1})])])):S("",!0),e("div",ue,[_e,s(b,null,{default:o(()=>[(a(!0),m(p,null,x(n.attendances,t=>{var d;return a(),m("div",he,[e("div",null,[e("div",me,[t.type==="present"?(a(),r(u,{key:0,class:"q-pa-sm",name:"fiber_manual_record",color:"positive"})):(a(),r(u,{key:1,class:"q-pa-sm",name:"fiber_manual_record",color:"warning"})),e("div",ge,[e("div",fe,l((d=t==null?void 0:t.user)==null?void 0:d.full_name),1),e("div",ve,"Signin at: "+l(w(C)(t==null?void 0:t.signin_at)),1)])])]),e("div",null,[t.type==="late"?(a(),r(q,{key:0,"text-color":"white",color:"warning",label:"Late"})):(a(),r(q,{key:1,color:"positive","text-color":"white",label:"Present"}))]),e("div",xe,[t!=null&&t.signout_at?(a(),r(q,{key:0,square:"",label:w(C)(t==null?void 0:t.signout_at)},null,8,["label"])):S("",!0),s(f,{onClick:pe=>c.$inertia.get(c.route("attendance.show",t.id)),round:"",flat:"",icon:"o_chevron_right"},null,8,["onClick"])])])}),256))]),_:1})])])])]}),_:1}))}});export{Oe as default};
