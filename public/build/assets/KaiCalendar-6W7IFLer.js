import{Q as f}from"./QDate-n6V6MZ0s.js";import{d as o}from"./date-CGOT6K0H.js";import{r as p,G as u,o as D,c as g}from"./app-B6ljmE4m.js";const h={__name:"KaiCalendar",setup(Y){const n=p({events:[],holidays:[],attendances:[]}),i=a=>{const t=n.attendances.find(e=>o.formatDate(e==null?void 0:e.signin_at,"YYYY/MM/DD")===a);return console.log("att",t),t?t.type==="present"?"positive":"warning":"negative"},l=a=>{const{year:t,month:e}=a;r(t,e)},d=a=>{const t=o.extractDate(a,"YYYY/MM/DD");return t.getDay()===6||t.getDay()===0?(n.holidays.push(t),!1):!(t.getTime()>Date.now())};u(()=>{r()});const r=(a,t)=>{axios.get(route("misc.attendances"),{params:{year:a,month:t}}).then(e=>{const{list:c}=e.data;n.attendances=c,n.events=c.map(s=>o.formatDate(s==null?void 0:s.signin_at,"YYYY/MM/DD"))}).catch(e=>console.log(e))};return(a,t)=>(D(),g(f,{"event-color":i,events:d,minimal:"",onNavigation:l,class:"q-mt-sm",flat:""}))}};export{h as _};
