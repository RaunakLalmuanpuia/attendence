import{j as b,br as A,G as E,y as x,B as P,H as F,aD as U,X as M,z as d,aS as B,af as j,ao as w,aL as k,bs as K,n as g,A as D,D as N,b1 as J,bt as Y,ah as G,a$ as Z,bu as ee,bv as te,aU as O,r as _,bw as ne,N as ie}from"./app-B6ljmE4m.js";function le(){const e=b(!A.value);return e.value===!1&&E(()=>{e.value=!0}),e}const X=typeof ResizeObserver<"u",W=X===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},I=x({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:f}){let n=null,t,u={width:-1,height:-1};function i(l){l===!0||e.debounce===0||e.debounce==="0"?c():n===null&&(n=setTimeout(c,e.debounce))}function c(){if(n!==null&&(clearTimeout(n),n=null),t){const{offsetWidth:l,offsetHeight:a}=t;(l!==u.width||a!==u.height)&&(u={width:l,height:a},f("resize",u))}}const{proxy:s}=P();if(s.trigger=i,X===!0){let l;const a=v=>{t=s.$el.parentNode,t?(l=new ResizeObserver(i),l.observe(t),c()):v!==!0&&M(()=>{a(!0)})};return E(()=>{a()}),F(()=>{n!==null&&clearTimeout(n),l!==void 0&&(l.disconnect!==void 0?l.disconnect():t&&l.unobserve(t))}),U}else{let l=function(){n!==null&&(clearTimeout(n),n=null),h!==void 0&&(h.removeEventListener!==void 0&&h.removeEventListener("resize",i,B.passive),h=void 0)},a=function(){l(),t&&t.contentDocument&&(h=t.contentDocument.defaultView,h.addEventListener("resize",i,B.passive),c())};const v=le();let h;return E(()=>{M(()=>{t=s.$el,t&&a()})}),F(l),()=>{if(v.value===!0)return d("object",{style:W.style,tabindex:-1,type:"text/html",data:W.url,"aria-hidden":"true",onLoad:a})}}}}),de=x({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:f}){const{proxy:{$q:n}}=P(),t=j(k,w);if(t===w)return console.error("QPage needs to be a deep child of QLayout"),w;if(j(K,w)===w)return console.error("QPage needs to be child of QPageContainer"),w;const i=g(()=>{const s=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const l=t.isContainer.value===!0?t.containerHeight.value:n.screen.height;return e.styleFn(s,l)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-s+"px":n.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":n.screen.height-s+"px"}}),c=g(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>d("main",{class:c.value,style:i.value},D(f.default))}}),oe={ratio:[String,Number]};function ae(e,f){return g(()=>{const n=Number(e.ratio||(f!==void 0?f.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const re=16/9,fe=x({name:"QImg",props:{...oe,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:re},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:f,emit:n}){const t=b(e.initialRatio),u=ae(e,t);let i=null,c=!1;const s=[b(null),b(q())],l=b(0),a=b(!1),v=b(!1),h=g(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),p=g(()=>({width:e.width,height:e.height})),y=g(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),T=g(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));N(()=>Q(),R);function Q(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function q(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function R(o){i!==null&&(clearTimeout(i),i=null),v.value=!1,o===null?(a.value=!1,s[l.value^1].value=q()):a.value=!0,s[l.value].value=o}function $({target:o}){c!==!0&&(i!==null&&(clearTimeout(i),i=null),t.value=o.naturalHeight===0?.5:o.naturalWidth/o.naturalHeight,L(o,1))}function L(o,C){c===!0||C===1e3||(o.complete===!0?r(o):i=setTimeout(()=>{i=null,L(o,C+1)},50))}function r(o){c!==!0&&(l.value=l.value^1,s[l.value].value=null,a.value=!1,v.value=!1,n("load",o.currentSrc||o.src))}function m(o){i!==null&&(clearTimeout(i),i=null),a.value=!1,v.value=!0,s[l.value].value=null,s[l.value^1].value=q(),n("error",o)}function z(o){const C=s[o].value,H={key:"img_"+o,class:y.value,style:T.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...C};return l.value===o?(H.class+=" q-img__image--waiting",Object.assign(H,{onLoad:$,onError:m})):H.class+=" q-img__image--loaded",d("div",{class:"q-img__container absolute-full",key:"img"+o},d("img",H))}function S(){return a.value!==!0?d("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},D(f[v.value===!0?"error":"default"])):d("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},f.loading!==void 0?f.loading():e.noSpinner===!0?void 0:[d(Y,{color:e.spinnerColor,size:e.spinnerSize})])}return R(Q()),F(()=>{c=!0,i!==null&&(clearTimeout(i),i=null)}),()=>{const o=[];return u.value!==null&&o.push(d("div",{key:"filler",style:u.value})),v.value!==!0&&(s[0].value!==null&&o.push(z(0)),s[1].value!==null&&o.push(z(1))),o.push(d(J,{name:"q-transition--fade"},S)),d("div",{class:h.value,style:p.value,role:"img","aria-label":e.alt},o)}}}),ge=x({name:"QPageContainer",setup(e,{slots:f}){const{proxy:{$q:n}}=P(),t=j(k,w);if(t===w)return console.error("QPageContainer needs to be child of QLayout"),w;G(K,!0);const u=g(()=>{const i={};return t.header.space===!0&&(i.paddingTop=`${t.header.size}px`),t.right.space===!0&&(i[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(i.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(i[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),i});return()=>d("div",{class:"q-page-container",style:u.value},D(f.default))}}),{passive:V}=B,se=["both","horizontal","vertical"],ue=x({name:"QScrollObserver",props:{axis:{type:String,validator:e=>se.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:f}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,u,i;N(()=>e.scrollTarget,()=>{l(),s()});function c(){t!==null&&t();const h=Math.max(0,ee(u)),p=te(u),y={top:h-n.position.top,left:p-n.position.left};if(e.axis==="vertical"&&y.top===0||e.axis==="horizontal"&&y.left===0)return;const T=Math.abs(y.top)>=Math.abs(y.left)?y.top<0?"up":"down":y.left<0?"left":"right";n.position={top:h,left:p},n.directionChanged=n.direction!==T,n.delta=y,n.directionChanged===!0&&(n.direction=T,n.inflectionPoint=n.position),f("scroll",{...n})}function s(){u=Z(i,e.scrollTarget),u.addEventListener("scroll",a,V),a(!0)}function l(){u!==void 0&&(u.removeEventListener("scroll",a,V),u=void 0)}function a(h){if(h===!0||e.debounce===0||e.debounce==="0")c();else if(t===null){const[p,y]=e.debounce?[setTimeout(c,e.debounce),clearTimeout]:[requestAnimationFrame(c),cancelAnimationFrame];t=()=>{y(p),t=null}}}const{proxy:v}=P();return N(()=>v.$q.lang.rtl,c),E(()=>{i=v.$el.parentNode,s()}),F(()=>{t!==null&&t(),l()}),Object.assign(v,{trigger:a,getPosition:()=>n}),U}}),ve=x({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:f,emit:n}){const{proxy:{$q:t}}=P(),u=b(null),i=b(t.screen.height),c=b(e.container===!0?0:t.screen.width),s=b({position:0,direction:"down",inflectionPoint:0}),l=b(0),a=b(A.value===!0?0:O()),v=g(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),h=g(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),p=g(()=>a.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),y=g(()=>a.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function T(r){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:r.position.top,direction:r.direction,directionChanged:r.directionChanged,inflectionPoint:r.inflectionPoint.top,delta:r.delta.top};s.value=m,e.onScroll!==void 0&&n("scroll",m)}}function Q(r){const{height:m,width:z}=r;let S=!1;i.value!==m&&(S=!0,i.value=m,e.onScrollHeight!==void 0&&n("scrollHeight",m),R()),c.value!==z&&(S=!0,c.value=z),S===!0&&e.onResize!==void 0&&n("resize",r)}function q({height:r}){l.value!==r&&(l.value=r,R())}function R(){if(e.container===!0){const r=i.value>l.value?O():0;a.value!==r&&(a.value=r)}}let $=null;const L={instances:{},view:g(()=>e.view),isContainer:g(()=>e.container),rootRef:u,height:i,containerHeight:l,scrollbarWidth:a,totalWidth:g(()=>c.value+a.value),rows:g(()=>{const r=e.view.toLowerCase().split(" ");return{top:r[0].split(""),middle:r[1].split(""),bottom:r[2].split("")}}),header:_({size:0,offset:0,space:!1}),right:_({size:300,offset:0,space:!1}),footer:_({size:0,offset:0,space:!1}),left:_({size:300,offset:0,space:!1}),scroll:s,animate(){$!==null?clearTimeout($):document.body.classList.add("q-body--layout-animate"),$=setTimeout(()=>{$=null,document.body.classList.remove("q-body--layout-animate")},155)},update(r,m,z){L[r][m]=z}};if(G(k,L),O()>0){let r=function(){S=null,o.classList.remove("hide-scrollbar")},m=function(){if(S===null){if(o.scrollHeight>t.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(S);S=setTimeout(r,300)},z=function(C){S!==null&&C==="remove"&&(clearTimeout(S),r()),window[`${C}EventListener`]("resize",m)},S=null;const o=document.body;N(()=>e.container!==!0?"add":"remove",z),e.container!==!0&&z("add"),ne(()=>{z("remove")})}return()=>{const r=ie(f.default,[d(ue,{onScroll:T}),d(I,{onResize:Q})]),m=d("div",{class:v.value,style:h.value,ref:e.container===!0?void 0:u,tabindex:-1},r);return e.container===!0?d("div",{class:"q-layout-container overflow-hidden",ref:u},[d(I,{onResize:q}),d("div",{class:"absolute-full",style:p.value},[d("div",{class:"scroll",style:y.value},[m])])]):m}}});export{de as Q,ve as a,ge as b,fe as c,I as d};
