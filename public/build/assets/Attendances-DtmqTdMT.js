import{Q as x}from"./QDate-n6V6MZ0s.js";import{Q as y}from"./QLayout-CQJIOMGO.js";import{_ as Y}from"./MainLayout-Dp50SWY5.js";import{d as i}from"./date-CGOT6K0H.js";import{r as p,n as u,o as D,c as b,w,g as t,t as c,a as M}from"./app-B6ljmE4m.js";import"./use-cache-hsIl6Ivw.js";import"./selection-CBxV_n-G.js";import"./FooterComponent-BOyJhOv3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-quasar-DJymb8OE.js";const j={class:"flex justify-between"},k={class:"text-title"},V=t("div",null,null,-1),N=t("br",null,null,-1),Q={class:"row q-col-gutter-sm"},$={class:"col-xs-12 col-sm-4"},A={class:"shadow-default bg-white q-pa-sm"},B={class:"flex justify-between items-center"},C=t("div",{class:"text-grey-7"},"Full Name",-1),L={class:"text-grey-7 text-dark"},q={class:"flex justify-between items-center"},O=t("div",{class:"text-grey-7"},"Designation",-1),P={class:"text-grey-7 text-dark"},U={class:"flex justify-between items-center"},F=t("div",{class:"text-grey-7"},"Mobile",-1),R={class:"text-grey-7 text-dark"},S={class:"flex justify-between items-center"},z=t("div",{class:"text-grey-7"},"Current User",-1),E={class:"text-grey-7 text-dark"},G={class:"col-xs-12 col-sm-8"},H={class:"shadow-default"},at=Object.assign({layout:Y},{__name:"Attendances",props:["user","office","attendances"],setup(o){const l=o,n=p({today:i.formatDate(Date.now(),"YYYY/MM/DD"),events:l.attendances.map(e=>i.formatDate(e==null?void 0:e.signin_at,"YYYY/MM/DD"))}),v=e=>{const s=l.attendances.find(a=>i.formatDate(a==null?void 0:a.signin_at,"YYYY/MM/DD")===e);if(s)return s.type==="present"?"positive":"warning"},h=u(()=>{var s;const e=l.attendances.find(a=>i.formatDate(a==null?void 0:a.signin_at,"YYYY/MM/DD")===n.today);return e?`Office:${(s=e==null?void 0:e.office)==null?void 0:s.name} Lat: ${e.lat} Lng: ${e.lng}`:"NA"}),g=u(()=>{const e=l.attendances.find(s=>i.formatDate(s==null?void 0:s.signin_at,"YYYY/MM/DD")===n.today);return e?(e==null?void 0:e.type)==="present"?"Present":"Late":"Absent"});return(e,s)=>(D(),b(y,{class:"container",padding:""},{default:w(()=>{var a,d,r,_,f;return[t("div",j,[t("div",null,[t("div",k,"Record of "+c((a=o.user)==null?void 0:a.full_name),1)]),V]),N,t("div",Q,[t("div",$,[t("div",A,[t("div",B,[C,t("div",L,c((d=o.user)==null?void 0:d.full_name),1)]),t("div",q,[O,t("div",P,c((r=o.user)==null?void 0:r.designation),1)]),t("div",U,[F,t("div",R,c((_=o.user)==null?void 0:_.mobile),1)]),t("div",S,[z,t("div",E,c((f=o.office)==null?void 0:f.name),1)])])]),t("div",G,[t("div",H,[M(x,{class:"full-width text-lg",style:{height:"450px"},flat:"",title:g.value,subtitle:h.value,modelValue:n.today,"onUpdate:modelValue":s[0]||(s[0]=m=>n.today=m),"today-btn":"",events:n.events,"event-color":v},null,8,["title","subtitle","modelValue","events"])])])])]}),_:1}))}});export{at as default};
